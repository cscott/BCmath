<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>BCmath documentation</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>BCmath</h1>


<h2>Contents</h2>
<ul>
<li><a href="#Modulo_operation">Modulo operation </a></li>
<li><a href="#False_precision">False precision </a></li>
<li><a href="#Arbitrary_precision_fixed_point_arithmetic">Arbitrary-precision fixed-point arithmetic </a></li>
</ul>


<h2>Topics</h2>
<ul class="">
  <li><strong>Pitfalls</strong></li>
  <li><a href="../topics/databases.md.html">Databases</a></li>
</ul>
<h2>Modules</h2>
<ul class="nowrap">
  <li><a href="../index.html">BCmath</a></li>
</ul>

</div>

<div id="content">


<h1>Pitfalls</h1>

<p>This describes common pitfalls with the <a href="https://www.mediawiki.org/wiki/Extension:BCmath">BCmath extension</a>, the <a href="https://www.php.net/manual/en/book.bc.php">bcmath library</a>, and the <a href="https://en.wikipedia.org/wiki/Bc_(programming_language">bc programming language</a>.</p>

<p><a name="Modulo_operation"></a></p>
<h2>Modulo operation</h2>

<p>The <a href="https://en.wikipedia.org/wiki/Modulo_operation">modulo operation</a> exists in several variants. In particular Lua uses <em>floored division</em> while Bc uses <em>truncated division</em>. For the most common situations, where both dividend and divisor is positive, the results are the same. Any use where dividend or divisor, or both, are negative might give discrepancies. This does not imply that any specific variant is wrong, they are just different.</p>

<p><a name="False_precision"></a></p>
<h2>False precision</h2>

<p>Using <a href="https://en.wikipedia.org/wiki/Arbitrary-precision_arithmetic">arbitrary-precision arithmetic</a> can easily lead to <a href="https://en.wikipedia.org/wiki/False_precision">false precision</a>. Numbers with a given precision can be combined, for example with addition or multiply, and accumulate more and more digits.</p>

<p>A simple example of addition</p>


<pre>
<span class="number">1.1</span>?
<span class="number">0.01</span>
<span class="number">1</span>,<span class="number">1</span>?
</pre>

<p>Do we really have two decimal places, or just one? The second decimal place in the first number is really unknown, and we can't really say what is more likely.</p>

<p>With multiply the problem gets more pronounced</p>


<pre>
<span class="number">1.2</span> Ã— <span class="number">1.2</span>
   <span class="number">24</span>
  <span class="number">12</span>?
  <span class="number">144</span>
</pre>

<p>The summation will then contain digits without sufficient certainty, unless the answer is rounded or otherwise truncated.</p>

<p><a name="Arbitrary_precision_fixed_point_arithmetic"></a></p>
<h2>Arbitrary-precision fixed-point arithmetic</h2>

<p>This library implements arbitrary-precision fixed-point arithmetic by scaling (shifting) arbitrary-precision integers. This is a rather simple solution that solves most problems with big numbers. It has some additional support for converting floating-point numbers into such fixed-point numbers. It does not implement so-called arbitrary-precision floating-point arithmetic.</p>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc TESTING</a></i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>

